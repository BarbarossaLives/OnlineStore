# Online Store with Saleor

A modern e-commerce platform built with Saleor backend and React frontend, designed for deployment on Render.

## 🚀 Features

- **Saleor Backend**: Headless e-commerce API with GraphQL
- **React Frontend**: Modern, responsive store interface
- **PostgreSQL Database**: Robust data storage
- **Redis**: Caching and session management
- **Render Deployment**: Easy cloud deployment

## 📋 Prerequisites

- Python 3.11+
- Node.js 18+
- Git
- Render account

## 🛠️ Local Development Setup

### Backend Setup

1. **Clone the repository**
   ```bash
   git clone <your-repo-url>
   cd OnlineStore
   ```

2. **Set up Python environment**
   ```bash
   python -m venv venv
   source venv/bin/activate  # On Windows: venv\Scripts\activate
   pip install -r requirements.txt
   ```

3. **Set environment variables**
   ```bash
   export SECRET_KEY="your-secret-key"
   export DEBUG="True"
   export POSTGRES_DB="saleor"
   export POSTGRES_USER="postgres"
   export POSTGRES_PASSWORD="your-password"
   export POSTGRES_HOST="localhost"
   export POSTGRES_PORT="5432"
   export REDIS_URL="redis://localhost:6379/0"
   ```

4. **Run migrations**
   ```bash
   python manage.py migrate
   ```

5. **Create superuser**
   ```bash
   python manage.py createsuperuser
   ```

6. **Start the backend**
   ```bash
   python manage.py runserver
   ```

### Frontend Setup

1. **Navigate to frontend directory**
   ```bash
   cd frontend
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Start development server**
   ```bash
   npm run dev
   ```

## 🚀 Render Deployment

### Option 1: Using Render Blueprint (Recommended)

1. **Push your code to GitHub**
2. **Connect your GitHub repository to Render**
3. **Use the `render.yaml` blueprint for automatic setup**
4. **Render will automatically create all necessary services**

### Option 2: Manual Setup

1. **Create a new Web Service for the backend**
   - Environment: Python
   - Build Command: `chmod +x build.sh && ./build.sh`
   - Start Command: `chmod +x start.sh && ./start.sh`

2. **Create a PostgreSQL database service**
   - Plan: Starter (or higher based on needs)

3. **Create a Redis service**
   - Plan: Starter

4. **Create a Static Site for the frontend**
   - Build Command: `cd frontend && npm install && npm run build`
   - Publish Directory: `frontend/.next`

### Environment Variables for Render

Set these in your Render dashboard:

**Backend Service:**
- `SECRET_KEY`: Auto-generated by Render
- `DEBUG`: `false`
- `ALLOWED_HOSTS`: `.onrender.com`
- `POSTGRES_DB`: From your PostgreSQL service
- `POSTGRES_USER`: From your PostgreSQL service
- `POSTGRES_PASSWORD`: From your PostgreSQL service
- `POSTGRES_HOST`: From your PostgreSQL service
- `REDIS_URL`: From your Redis service

**Frontend Service:**
- `NEXT_PUBLIC_API_URL`: Your backend service URL

## 🔧 Configuration

### Database Configuration
The application automatically connects to the PostgreSQL database using environment variables.

### Redis Configuration
Redis is used for caching and session management. The connection URL is automatically configured.

### Static Files
Static files are served through WhiteNoise middleware for production.

## 📱 API Endpoints

- **GraphQL API**: `/graphql/`
- **Admin Dashboard**: `/admin/`
- **Store Dashboard**: `/dashboard/`

## 🛍️ Store Features

- Product catalog
- Shopping cart
- User accounts
- Order management
- Payment processing (configurable)
- Inventory management

## 🔒 Security

- CSRF protection enabled
- Secure session handling
- Environment-based security settings
- HTTPS enforcement in production

## 📊 Monitoring

- Health check endpoint: `/admin/`
- Render provides built-in monitoring
- Application logs available in Render dashboard

## 🚨 Troubleshooting

### Common Issues

1. **Database Connection Errors**
   - Verify PostgreSQL service is running
   - Check environment variables
   - Ensure database exists

2. **Static Files Not Loading**
   - Run `python manage.py collectstatic`
   - Check WhiteNoise configuration

3. **Build Failures**
   - Verify Python version compatibility
   - Check all dependencies are installed
   - Review build logs in Render

### Getting Help

- Check Render deployment logs
- Review Django error logs
- Consult Saleor documentation
- Check GitHub issues

## 📈 Scaling

- Start with Starter plans
- Upgrade to Pro plans as needed
- Monitor resource usage in Render dashboard
- Consider CDN for static assets

## 🔄 Updates

To update your deployment:

1. Push changes to GitHub
2. Render automatically redeploys
3. Monitor deployment status
4. Check application health

## 📄 License

This project is licensed under the MIT License - see the LICENSE file for details.

## 🤝 Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Submit a pull request

---

**Happy selling! 🎉**
